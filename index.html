<!DOCTYPE html>
<html lang="gu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>рк╕рлНркорк╛рк░рлНркЯ рк╕рлНркХрлЗркирк░ - ркжрлЗрк╡рлЗркирлНркжрлНрк░ рк░рк╛ркорк╛ркирлБркЬ</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f0f2f5;
            text-align: center;
            margin: 0;
            padding-bottom: 80px; /* рклрлВркЯрк░ ркорк╛ркЯрлЗ ркЬркЧрлНркпрк╛ */
        }
        h2 { color: #333; margin-top: 20px; }

        /* ркХрлЗркорлЗрк░рк╛ ркХркирлНркЯрлЗркирк░ (ркЬрлЗркерлА рк╕рлНркХрлЗрки рк▓рк╛ркИркЯ ркдрлЗркирлА ркЕркВркжрк░ ркЬ рк░рк╣рлЗ) */
        .camera-container {
            position: relative;
            width: 100%;
            max-width: 400px;
            margin: 0 auto;
            border-radius: 10px;
            overflow: hidden; /* рк▓рк╛ркИркЯ ркмрк╣рк╛рк░ рки ркЬрк╛ркп */
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }

        #camera-stream {
            width: 100%;
            display: block;
            background-color: #000;
        }

        /* рк╕рлНркХрлЗркирк┐ркВркЧ рк▓рк╛ркИркЯ (ркЭрлЗрк░рлЛркХрлНрк╖ ркЗрклрлЗркХрлНркЯ) */
        .scan-line {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: cyan;
            box-shadow: 0 0 15px cyan;
            opacity: 0; /* рк╢рк░рлВркЖркдркорк╛ркВ ркжрлЗркЦрк╛рк╢рлЗ ркирк╣рлАркВ */
        }

        /* рк▓рк╛ркИркЯркирлБркВ ркПркирк┐ркорлЗрк╢рки */
        .scanning-animation {
            opacity: 1;
            animation: moveLight 2s ease-in-out;
        }

        @keyframes moveLight {
            0% { top: 0%; }
            50% { top: 100%; }
            100% { top: 0%; opacity: 0; }
        }

        /* ркмркЯрки ркбрк┐ркЭрк╛ркИрки */
        button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 18px;
            border-radius: 50px;
            cursor: pointer;
            margin: 20px 0;
            box-shadow: 0 4px 6px rgba(0,0,0,0.2);
            font-weight: bold;
        }
        button:active { background-color: #0056b3; transform: scale(0.98); }

        /* рк╕рлВркЪркирк╛ ркЯрлЗркХрлНрк╕рлНркЯ */
        .arrow-text {
            font-size: 18px;
            color: #d63384;
            font-weight: bold;
            margin: 10px 0;
            display: none; /* рклрлЛркЯрлЛ рккркбрлЗ рккркЫрлА ркЬ ркжрлЗркЦрк╛рк╢рлЗ */
            animation: blink 1.5s infinite;
        }

        @keyframes blink {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        /* рклрлЛркЯрлЛ ркЖркЙркЯрккрлБркЯ */
        #photo-output {
            width: 90%;
            max-width: 380px;
            border: 2px solid #ccc;
            border-radius: 10px;
            margin-top: 10px;
            display: none; /* рк╢рк░рлВркЖркдркорк╛ркВ ркЫрлБрккрк╛рк╡рлЛ */
        }

        /* рклрлВркЯрк░ ркХрлНрк░рлЗркбрк┐ркЯ */
        footer {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: #2c3e50;
            color: white;
            text-align: center;
            padding: 15px 0;
            font-size: 14px;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
        }
        footer span {
            display: block;
            font-weight: bold;
            color: #f1c40f;
        }

        canvas { display: none; }
    </style>
</head>
<body>

    <h2>ЁЯУС ркбрлЛркХрлНркпрлБркорлЗркирлНркЯ рк╕рлНркХрлЗркирк░</h2>
    
    <div class="camera-container">
        <video id="camera-stream" autoplay playsinline></video>
        <div id="scan-bar" class="scan-line"></div>
    </div>
    
    <button id="scan-btn">ЁЯУ╕ Scan Document</button>
    
    <div id="result-info" class="arrow-text">
        тмЗя╕П Scan ркеркпрлЗрк▓рлЛ рклрлЛркЯрлЛ ркирлАркЪрлЗ ркЫрлЗ тмЗя╕П
    </div>

    <img id="photo-output" alt="Scanned Document" />
    
    <canvas id="canvas"></canvas>

    <footer>
        Developed by <span>Devendra Ramanuj</span>
        ЁЯУЮ 9276505035
    </footer>

    <script>
        const video = document.getElementById('camera-stream');
        const canvas = document.getElementById('canvas');
        const photoOutput = document.getElementById('photo-output');
        const scanBtn = document.getElementById('scan-btn');
        const scanBar = document.getElementById('scan-bar');
        const resultInfo = document.getElementById('result-info');

        // рлз. ркХрлЗркорлЗрк░рк╛ ркЪрк╛рк▓рлБ ркХрк░рлЛ
        async function startCamera() {
            try {
                const stream = await navigator.mediaDevices.getUserMedia({ 
                    video: { facingMode: 'environment' } 
                });
                video.srcObject = stream;
            } catch (error) {
                alert("ркХрлЗркорлЗрк░рк╛ ркПрк░рк░: " + error.message);
            }
        }

        // рли. рк╕рлНркХрлЗрки ркмркЯрки ркжркмрк╛рк╡ркдрк╛ рк╢рлБркВ ркерк╛ркп?
        scanBtn.addEventListener('click', () => {
            // A. рк╕рлНркХрлЗркирк┐ркВркЧ ркПркирк┐ркорлЗрк╢рки ркЪрк╛рк▓рлБ ркХрк░рлЛ
            scanBar.classList.remove('scanning-animation'); // рк░рлАрк╕рлЗркЯ ркХрк░рк╡рк╛
            void scanBar.offsetWidth; // ркЯрлНрк░рлАркЧрк░ рк░рк┐рклрлНрк▓рлЛ
            scanBar.classList.add('scanning-animation');

            // B. ркмркЯркиркирлЗ ркерлЛркбрлАрк╡рк╛рк░ ркмркВркз ркХрк░рлЛ
            scanBtn.disabled = true;
            scanBtn.innerText = "Scanning...";

            // C. рлз.рлл рк╕рлЗркХркирлНркб рккркЫрлА рклрлЛркЯрлЛ рккрк╛ркбрлЛ (ркПркирк┐ркорлЗрк╢рки рккркдрлЗ ркПркЯрк▓рлЗ)
            setTimeout(() => {
                // рклрлЛркЯрлЛ ркХрлЗрккрлНркЪрк░ ркХрк░рлЛ
                canvas.width = video.videoWidth;
                canvas.height = video.videoHeight;
                const context = canvas.getContext('2d');
                context.drawImage(video, 0, 0, canvas.width, canvas.height);
                
                // рклрлЛркЯрлЛ ркмркдрк╛рк╡рлЛ
                const dataUrl = canvas.toDataURL('image/png');
                photoOutput.src = dataUrl;
                photoOutput.style.display = "block";
                
                // ркЯрлЗркХрлНрк╕рлНркЯ ркмркдрк╛рк╡рлЛ
                resultInfo.style.display = "block";
                
                // рк╕рлНркХрлНрк░рлЛрк▓ ркХрк░рлАркирлЗ ркирлАркЪрлЗ рк▓ркИ ркЬрк╛ркУ
                resultInfo.scrollIntoView({ behavior: 'smooth' });

                // ркмркЯрки рклрк░рлА ркЪрк╛рк▓рлБ ркХрк░рлЛ
                scanBtn.disabled = false;
                scanBtn.innerText = "ЁЯУ╕ Scan Document";
            }, 1500); // рлз.рлл рк╕рлЗркХркирлНркб ркирлЛ рк╕ркоркп (Animation ркЯрк╛ркИрко рк╕рк╛ркерлЗ ркорлЗркЪ ркерк╡рк╛)
        });

        startCamera();
    </script>

</body>
</html>
